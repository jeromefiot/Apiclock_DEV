{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}

{% block title %}Apiclock - Dashboard{% endblock %}

{% block head %}
    {{ super() }}
    <script language="javascript">//<![CDATA[
        $(document).ready(function() {
            $("#form1-radios").show();
            $("#form1-podcasts").hide();
            $("#form1-musics").hide();

            $("#form1-media").change(function() {
                if ($("#form1-media").val() == "1"){
                    $("#form1-radios").show();
                    $("#form1-podcasts").hide();
                    $("#form1-musics").hide();
                    // get selected menu value
                    //TEST = $('#form1-radios option:selected').val();
                } else if ($("#form1-media").val() == "2") {
                   $("#form1-radios").hide();
                   $("#form1-podcasts").show();
                   $("#form1-musics").hide();
                } else if ($("#form1-media").val() == "3") {
                   $("#form1-radios").hide();
                   $("#form1-podcasts").hide();
                   $("#form1-musics").show();
                } else {
                   $("#form1-radios").hide();
                   $("#form1-podcasts").hide();
                   $("#form1-musics").hide();
                }
            });

            $("#form_chrono-radios").show();
            $("#form_chrono-podcasts").hide();
            $("#form_chrono-musics").hide();

            $("#form_chrono-media").change(function() {
                if ($("#form_chrono-media").val() == "1"){
                    $("#form_chrono-radios").show();
                    $("#form_chrono-podcasts").hide();
                    $("#form_chrono-musics").hide();
                    // get selected menu value
                    //TEST = $('#form1-radios option:selected').val();
                } else if ($("#form_chrono-media").val() == "2") {
                   $("#form_chrono-radios").hide();
                   $("#form_chrono-podcasts").show();
                   $("#form_chrono-musics").hide();
                } else if ($("#form_chrono-media").val() == "3") {
                   $("#form_chrono-radios").hide();
                   $("#form_chrono-podcasts").hide();
                   $("#form_chrono-musics").show();
                } else {
                   $("#form_chrono-radios").hide();
                   $("#form_chrono-podcasts").hide();
                   $("#form_chrono-musics").hide();
                }
            });
        });
    </script>
{% endblock %}

{% block page_content %}
<div class="page-header">
    <div style="margin-top:-50px;">
        <a href="{{ url_for('main.dashboard', action='1', musique='0') }}" class="btn btn-primary btn-lg active" role="button">Play</a>
        <a href="{{ url_for('main.dashboard', action='0', musique='0') }}" class="btn btn-default btn-lg active" role="button">Stop</a>
        <a href="{{ url_for('main.dashboard', action='2', musique='0') }}" class="btn btn-primary btn-lg active" role="button"> + Fort </a>
        <a href="{{ url_for('main.dashboard', action='3', musique='0') }}" class="btn btn-default btn-lg active" role="button"> - Fort </a>
        <!-- <a href="{{ url_for('main.dashboard', action='4', musique='0') }}" class="btn btn-default btn-lg active" role="button"> current </a> -->
        {% if mpd_status == 'True' %}
            <h2 style="display:inline;"><span class="label label-success">MPD ON</span></h2>
        {% else %}
            <h2 style="display:inline;"><span class="label label-default" >MPD OFF</span></h2>
        {% endif %}
    </div>
</div>


<div class="col-md-3">
    <h2>PLAY <a href="{{ url_for('radio.index') }}" class="btn btn-success" role="button">Add media</a></h2>
    <div class="well well-sm" style="min-height: 250px">
    <form id="baseform" action="" method="post" class="form" role="form">
        {{ form1.hidden_tag() }}
        <!-- <div class="form-group" id="form1-medias"><label class="control-label" for="form1-media">{{ form1.media.label }}</label> -->
        <div class="form-group" id="form1-medias">
            <select class="form-control" id="form1-media" name="form1-media">
            {% for choice in form1.media.choices %}
                <option value="{{choice[0]}}">{{ choice[1] }}</option>
            {% endfor %}
            </select>
        </div>
        <!-- <div class="form-group" id="form1-radios"><label class="control-label" for="form1-radio">{{ form1.radio.label }}</label> -->
        <div class="form-group" id="form1-radios">
            <select class="form-control" id="form1-radio" name="form1-radio">
            {% for radio in form1.radio.choices %}
                {# set default selection if value ="Choose media" with id = 0' #}
                {% if radio[1] == 'Choose Radio' %}
                    <option value="{{radio[0]}}" selected="selected">{{ radio[1] }}</option>
                {% else %}
                    <option value="{{radio[0]}}">{{ radio[1] }}</option>
                {% endif %}
            {% endfor %}
            </select>
        </div>

        <!-- <div class="form-group" id="form1-musics"><label class="control-label" for="form1-music">{{ form1.music.label }}</label> -->
        <div class="form-group" id="form1-musics">
            <select class="form-control" id="form1-music" name="form1-music">
                {% for music in form1.music.choices %}
                    {# set default selection if value ="Choose media" with id = 0' #}
                    {% if music[1] == 'Choose Media' %}
                        <option value="{{music[0]}}" selected="selected">{{ music[1] }}</option>
                    {% else %}
                        <option value="{{music[0]}}">{{ music[1] }}</option>
                    {% endif %}
                {% endfor %}
            </select>
        </div>
        <input class="btn btn-primary" id="form1-submit" name="form1-submit" type="submit" value="Play"
        style="position:absolute; bottom:0; margin:30px; right:0;">
    </form>
    </div>
</div>


<div class="col-md-3">
    <h2>CHRONO</h2>
    <div class="well well-sm" style="min-height: 250px">
    <form id="chrono_form" action="" method="post" class="form" role="form">
        {{ form_chrono.hidden_tag() }}
        <!-- <div class="form-group" id="form_chrono-medias"><label class="control-label" >{{ form_chrono.media.label }}</label> -->
        <div class="form-group" id="form_chrono-medias">
            <select class="form-control" id="form_chrono-media" name="form_chrono-media">
            {% for choice in form_chrono.media.choices %}
                <option value="{{choice[0]}}">{{ choice[1] }}</option>
            {% endfor %}
            </select>
        </div>
        <!-- <div class="form-group" id="form_chrono-radios"><label class="control-label" >{{ form_chrono.radio.label }}</label> -->
        <div class="form-group" id="form_chrono-radios">
            <select class="form-control" id="form_chrono-radio" name="form_chrono-radio">
            {% for radio in form_chrono.radio.choices %}
                {# set default selection if value ="Choose media" with id = 0' #}
                {% if radio[1] == 'Choose Radio' %}
                    <option value="{{radio[0]}}" selected="selected">{{ radio[1] }}</option>
                {% else %}
                    <option value="{{radio[0]}}">{{ radio[1] }}</option>
                {% endif %}
            {% endfor %}
            </select>
        </div>

        <!-- <div class="form-group" id="form_chrono-musics"><label class="control-label" >{{ form_chrono.music.label }}</label> -->
        <div class="form-group" id="form_chrono-musics">
            <select class="form-control" id="form_chrono-music" name="form_chrono-music">
                {% for music in form_chrono.music.choices %}
                    {# set default selection if value ="Choose media" with id = 0' #}
                    {% if music[1] == 'Choose Media' %}
                        <option value="{{music[0]}}" selected="selected">{{ music[1] }}</option>
                    {% else %}
                        <option value="{{music[0]}}">{{ music[1] }}</option>
                    {% endif %}
                {% endfor %}
            </select>
        </div>

        <!-- <div class="form-group" id="form_chrono-chrono_minutes"><label class="control-label" >{{ form_chrono.chrono_minutes.label }}</label> -->
        <div class="form-group" id="form_chrono-chrono_minutes">
            <select class="form-control" id="form_chrono-chrono_minutes" name="form_chrono-chrono_minutes">
                {% for minute in form_chrono.chrono_minutes.choices %}
                    {# set default selection if value ="1" with id = 0' #}
                    {% if minute[1] == 'Choose delay' %}
                        <option value="{{minute[0]}}" selected="selected">{{ minute[1] }}</option>
                    {% else %}
                        <option value="{{minute[0]}}">{{ minute[1] }}</option>
                    {% endif %}
                {% endfor %}
            </select>
        </div>

        <input class="btn btn-primary" id="form_chrono-submit" name="form_chrono-submit" type="submit" value="Start"
        style="position:absolute; bottom:0; margin:30px; right:0;">
    </form>
    </div>
</div>


<!--
<div class="col-md-4">
    <h2>SNOOZE2</h2>
    <form action="{{ url_for('main.dashboard') }}" method="post" class="form">
        {{ formsnooze.hidden_tag() }}
        <div class="form-group" id="radiosnoozes"><label class="control-label" for="media">{{ formsnooze.radiosnooze.label }}</label>
            <select class="form-control" id="radiosnooze" name="radiosnooze">
            {% for choice in formsnooze.radiosnooze.choices %}
                <option value="{{choice[0]}}">{{ choice[1] }}</option>
            {% endfor %}
            </select>
        </div>
        <div class="form-group" id="duree"><label class="control-label" for="radio">{{ formsnooze.minutessnooze.label }}</label>
            <select class="form-control" id="radio" name="radio">
            {% for radio in formsnooze.minutessnooze.choices %}
                <option value="{{radio[0]}}">{{ radio[1] }}</option>
            {% endfor %}
            </select>
        </div>
        {{ formsnooze.submitsnooze }}
        <input class="btn btn-default" type="submit" value="Snooze">
    </form>
</div>
<div class="col-md-4">
    <h2>PLAY</h2>
    {{ wtf.quick_form(form1) }}
</div> -->

<div class="col-md-3">
    <h2>SNOOZE</h2>
    <div class="well well-sm" style="min-height: 250px">
        <form id="formsnooze" action="" method="post" class="form" role="form">
            {{ formsnooze.hidden_tag() }}

            <div class="form-group" id="formsnooze-medias">
                <select class="form-control" id="formsnooze-media" name="formsnooze-media">
                {% for choice in formsnooze.radiosnooze.choices %}
                    <option value="{{choice[0]}}">{{ choice[1] }}</option>
                {% endfor %}
                </select>
            </div>

            <div class="form-group" id="formsnooze-minutes">
                <select class="form-control" id="formsnooze-minutes" name="formsnooze-minutes">
                {% for choice in formsnooze.minutessnooze.choices %}
                    <option value="{{choice[0]}}">{{ choice[1] }}</option>
                {% endfor %}
                </select>
            </div>

            <input class="btn btn-primary" id="formsnooze-submit" name="formsnooze-submit" type="submit" value="Start"
            style="position:absolute; bottom:0; margin:30px; right:0;">
        </form>
    </div>
</div>


<div class="col-md-3">
    <h2>ALARMS <a href="{{ url_for('alarm.index') }}" class="btn btn-success active" role="button">Add alarm</a></h2>
    <div class="well well-sm" style="min-height: 250px">
        <!-- Nous sommes  moment().format('dddd(E) - h:m') <br/> -->
        Nous sommes le {{ moment().format('dddd D MMMM YYYY, H:mm:ss') }}<br/>
        <br/>
        ALARMES EN COURS<br/>
        ====================
        <br/>
        {% for alarm in alarms %}
            {{alarm.namealarme}}  //  {{alarm.days}} - {{alarm.startdate}} <br/>
        {% endfor %}
        <br/>
        <a href="" class="btn btn-primary" role="button" style="position:absolute; bottom:0; margin:30px; right:0;">
            See all
        </a>
    </div>
</div>

{% endblock %}
